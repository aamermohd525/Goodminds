<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Goodminds - Loading</title>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      border: none;
      text-decoration: none;
      background: none;
      -webkit-font-smoothing: antialiased;
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: #000;
      color: #fff;
      overflow: hidden;
    }
    
    .loading-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      background: #000;
    }
    
    .loading-screen {
      width: 100%;
      height: 100%;
      display: none;
    }
    
    .loading-screen.active {
      display: block;
    }
    
    .loading-screen iframe {
      width: 100%;
      height: 100%;
      border: none;
    }
  </style>
</head>
<body>
  <div class="loading-container">
    <!-- Loading Screen 1: Logo -->
    <div class="loading-screen active" id="screen1">
      <iframe src="./loading-logo/index.html"></iframe>
    </div>
    
    <!-- Loading Screen 2: Progress -->
    <div class="loading-screen" id="screen2">
      <iframe src="./loading-progress/index.html"></iframe>
    </div>
    
    <!-- Loading Screen 3: Interactive -->
    <div class="loading-screen" id="screen3">
      <iframe src="./loading-interactive/index.html"></iframe>
    </div>
    
    <!-- Loading Screen 4: Quote -->
    <div class="loading-screen" id="screen4">
      <iframe src="./loading-quote/index.html"></iframe>
    </div>
    
    <!-- Welcome Screen 5: Welcome -->
    <div class="loading-screen" id="screen5">
      <iframe src="./welcome-screen/index.html"></iframe>
    </div>
  </div>
  
  <!-- Note: Welcome screens 1 and 2 are navigated to directly, not loaded in iframes -->

  <script>
    let currentScreen = 1;
    
    // Screen timing configuration
    const screenTimings = {
      1: 2000,  // Logo screen: 2 seconds
      2: 3000,  // Progress screen: 3 seconds
      3: 4000,  // Interactive screen: 4 seconds
      4: 5000,  // Quote screen: 5 seconds
      5: 0      // Welcome screen: stay until user interaction
    };
    
    function showScreen(screenNumber) {
      // Hide all screens
      document.querySelectorAll('.loading-screen').forEach(screen => {
        screen.classList.remove('active');
      });
      
      // Show current screen
      document.getElementById(`screen${screenNumber}`).classList.add('active');
      
      // Send message to progress screen to start counter
      if (screenNumber === 2) {
        const progressIframe = document.querySelector('#screen2 iframe');
        if (progressIframe && progressIframe.contentWindow) {
          progressIframe.contentWindow.postMessage('startProgress', '*');
        }
      }
    }
    
    function nextScreen() {
      currentScreen++;
      if (currentScreen <= 5) {
        showScreen(currentScreen);
        
        // Auto-navigate to next screen after timing (except for welcome screen)
        if (currentScreen < 5) {
          setTimeout(() => {
            nextScreen();
          }, screenTimings[currentScreen]);
        } else {
          // Welcome screen reached - stop auto-navigation
          console.log('Welcome screen reached - waiting for user interaction');
        }
      } else {
        // End of loading sequence - you can redirect to main app here
        console.log('Loading sequence complete');
        // window.location.href = './main-app.html'; // Uncomment when you have a main app
      }
    }
    
    // Start the sequence
    setTimeout(() => {
      nextScreen();
    }, screenTimings[1]);
    
    // Handle iframe load events
    document.querySelectorAll('iframe').forEach(iframe => {
      iframe.addEventListener('load', () => {
        console.log('Iframe loaded:', iframe.src);
      });
    });
  </script>
</body>
</html> 